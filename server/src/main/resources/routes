# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Home page
+ nocsrf
POST          /report-to                                                              controllers.CSPReportController.report
GET           /                                                                       controllers.Application.index
GET           /health-check                                                           controllers.Application.healthCheck

GET           /airport-config                                                         controllers.Application.getAirportConfig
GET           /pax-feed-source-order                                                  controllers.Application.getPaxFeedSourceOrder
GET           /contact-details                                                        controllers.Application.getContactDetails

GET           /ooh-status                                                             controllers.Application.getOOHStatus
GET           /feature-flags                                                          controllers.Application.getFeatureFlags

GET           /airport-info                                                           controllers.Application.getAirportInfo
GET           /walk-times                                                             controllers.Application.getWalkTimes

GET           /alerts/:createdAfter                                                   controllers.Application.getAlerts(createdAfter: Long)
+ nocsrf
POST          /alerts                                                                 controllers.Application.addAlert
+ nocsrf
DELETE        /alerts                                                                 controllers.Application.deleteAlerts

GET           /version                                                                controllers.Application.getApplicationVersion

GET           /crunch                                                                 controllers.Application.getCrunch
POST          /control/crunch/recalculate                                             controllers.Application.reCrunch
POST          /control/arrivals/recalculate                                           controllers.Application.reCalculateArrivals
GET           /crunch-snapshot/:pit                                                   controllers.Application.getCrunchSnapshot(pit: Long)

GET           /feed-statuses                                                          controllers.Application.getFeedStatuses
GET           /feeds/statuses                                                         controllers.Application.getFeedStatuses
POST          /feeds/check                                                            controllers.Application.checkFeed
GET           /arrival/:number/:terminal/:scheduled/:origin                           controllers.Application.getArrival(number: Int, terminal: String, scheduled: Long, origin: String)
GET           /arrival/:pointInTime/:number/:terminal/:scheduled/:origin              controllers.Application.getArrivalAtPointInTime(pointInTime: Long, number: Int, terminal: String, scheduled: Long, origin: String)
GET           /manifest-summaries                                                     controllers.Application.getManifestSummariesForArrivals
GET           /manifest-summaries/:utcDate/summary                                    controllers.Application.getManifestSummariesForDay(utcDate: String)
GET           /red-list/ports/:date                                                   controllers.Application.getRedListPorts(date: String)
POST          /red-list/updates                                                       controllers.Application.updateRedListUpdates()
GET           /red-list/updates                                                       controllers.Application.getRedListUpdates
DELETE        /red-list/updates/:effectiveFrom                                        controllers.Application.deleteRedListUpdates(effectiveFrom: Long)
GET           /red-list/updates-legacy                                                controllers.Application.getRedListUpdatesLegacy
POST          /egate-banks/updates                                                    controllers.Application.updateEgateBanksUpdates()
GET           /egate-banks/updates                                                    controllers.Application.getEgateBanksUpdates
DELETE        /egate-banks/updates/:terminal/:effectiveFrom                           controllers.Application.deleteEgateBanksUpdates(terminal: String, effectiveFrom: Long)

GET           /logged-in                                                              controllers.Application.isLoggedIn

GET           /fixed-points                                                           controllers.Application.getFixedPoints
POST          /fixed-points                                                           controllers.Application.saveFixedPoints

GET           /export/desk-recs/:startLocalDate/:endLocalDate/:terminalName           controllers.Application.exportDesksAndQueuesRecsBetweenTimeStampsCSV(startLocalDate, endLocalDate, terminalName)
GET           /export/desk-recs/snapshot/:localDate/:pointInTime/:terminalName        controllers.Application.exportDesksAndQueuesRecsAtPointInTimeCSV(localDate, pointInTime, terminalName)
GET           /export/desk-deps/:startLocalDate/:endLocalDate/:terminalName           controllers.Application.exportDesksAndQueuesDepsBetweenTimeStampsCSV(startLocalDate, endLocalDate, terminalName)
GET           /export/desk-deps/snapshot/:localDate/:pointInTime/:terminalName        controllers.Application.exportDesksAndQueuesDepsAtPointInTimeCSV(localDate, pointInTime, terminalName)
GET           /export/arrivals/:startLocalDay/:endLocalDay/:terminalName              controllers.Application.exportFlightsWithSplitsForDateRangeCSV(startLocalDay: String, endLocalDay: String, terminalName: String)
GET           /export/arrivals/snapshot/:localDate/:pointInTime/:terminalName         controllers.Application.exportFlightsWithSplitsForDayAtPointInTimeCSV(localDate: String, pointInTime: Long, terminalName: String)
GET           /export/arrivals-with-red-list-diversions/:startLocalDay/:endLocalDay/:terminalName              controllers.Application.exportFlightsWithSplitsForDateRangeCSVWithRedListDiversions(startLocalDay: String, endLocalDay: String, terminalName: String)
GET           /export/arrivals-with-red-list-diversions/snapshot/:localDate/:pointInTime/:terminalName         controllers.Application.exportFlightsWithSplitsForDayAtPointInTimeCSVWithRedListDiversions(localDate: String, pointInTime: Long, terminalName: String)

GET           /export/arrivals-feed/:terminal/:start/:end/:feedSource                 controllers.Application.exportArrivalsFromFeed(terminal: String, start: Long, end: Long, feedSource: String)
GET           /export/planning/:weekStarting/:terminalName                            controllers.Application.exportForecastWeekToCSV(weekStarting, terminalName)
GET           /export/headlines/:weekStarting/:terminalName                           controllers.Application.exportForecastWeekHeadlinesToCSV(weekStarting, terminalName)
GET           /export/users                                                           controllers.Application.exportUsers
GET           /export/staff-movements/:date/:terminal                                 controllers.Application.exportStaffMovements(terminal: String, date: String)
GET           /export/desk-rec-simulation                                             controllers.Application.simulationExport
GET           /desk-rec-simulation                                                    controllers.Application.simulation

GET           /forecast-accuracy/:date                                                controllers.Application.getForecastAccuracy(date: String)
GET           /export/forecast-accuracy/:daysForComparison/:daysAhead                 controllers.Application.forecastAccuracyExport(daysForComparison: Int, daysAhead: Int)

# Map static resources from the /public folder to the /assets URL path
GET           /assets/fonts/*file                                                     controllers.Assets.at(path="/public/lib/font-awesome/fonts", file)
GET           /assets/images/*file                                                    controllers.Assets.at(path="/public/images", file)
GET           /assets/*file                                                           controllers.Assets.versioned(path="/public", file: Asset)

# Autowire calls
POST          /api/*path                                                              controllers.Application.autowireApi(path: String)

GET           /data/user                                                              controllers.Application.getLoggedInUser()

GET           /data/track-user                                                        controllers.Application.trackUser()

+ nocsrf
POST          /data/login                                                             controllers.Application.apiLogin()

GET           /data/userDetails/:email                                               controllers.Application.userDetails(email:String)

POST          /data/addUserToGroup/:userId/:group                                     controllers.Application.addUserToGroup(userId: String, group: String)

GET           /data/user/has-port-access                                              controllers.Application.getUserHasPortAccess()

GET           /data/actor-tree                                                        controllers.Application.getActorTree()
GET           /debug/flights/:persistenceId/:dateString/:messages                     controllers.Application.getMessagesForFlightPersistenceIdAtTime(persistenceId: String, dateString: String, messages: Int)
POST          /email/feedback/:feedback                                               controllers.Application.feedBack(feedback: String)
# Logging
POST          /logging                                                                controllers.Application.logging

POST          /data/staff                                                             controllers.Application.saveStaff
GET           /staff-movements/:date                                                  controllers.Application.getStaffMovements(date: String)
POST          /staff-movements                                                        controllers.Application.addStaffMovements()
DELETE        /staff-movements/:uuid                                                  controllers.Application.removeStaffMovements(uuid: String)

# Feed import
POST          /data/feed/red-list-counts                                              controllers.Application.feedImportRedListCounts()
+ nocsrf
POST          /data/feed/:feedType/:portCode                                          controllers.Application.feedImport(feedType: String, portCode: String)
# Training
GET           /feature-guide-video/:filename                                          controllers.S3FileController.getFile(filename:String)

GET           /feature-guides                                                         controllers.Application.featureGuides()

GET           /is-new-feature-available-since-last-login                              controllers.Application.isNewFeatureAvailableSinceLastLogin

POST          /record-feature-guide-view/:filename                                    controllers.Application.recordFeatureGuideView(filename:String)

GET          /viewed-feature-guides                                                   controllers.Application.viewedFeatureGuideIds()
# Test related
+ nocsrf
POST          /test/arrival                                                           test.controllers.TestController.addArrival
+ nocsrf
POST          /test/arrivals/:forDate                                                 test.controllers.TestController.addArrivals(forDate)
+ nocsrf
POST          /test/manifest                                                          test.controllers.TestController.addManifest
+ nocsrf
POST          /test/mock-roles                                                        test.controllers.TestController.setMockRoles()
GET           /test/mock-roles-set                                                    test.controllers.TestController.setMockRolesByQueryString()
+ nocsrf
DELETE        /test/data                                                              test.controllers.TestController.deleteAllData()
